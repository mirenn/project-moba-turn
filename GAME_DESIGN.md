# Game Design Document

## 1. 概要 (Overview)
MOBAとターン制戦略ボードゲームを融合させたゲーム。
プレイヤーはチャンピオンを操作し、カードを使って行動を選択・解決していく。
参考：Guards of Atlantis

## 2. 勝利条件 (Victory Conditions)

以下のいずれかを満たしたプレイヤーの勝利：
1. **勝利マス到達**: 相手タワーの奥にある **勝利マス** に味方チャンピオンが移動を完了した瞬間、即座に勝利。
   * 「ターン終了時の生存」は不要。優先度を活かした「滑り込み」が決め手。
   * **進入制限**: 自陣の勝利マスには自軍のチャンピオンは入れない（マスを塘ぐ「詰み」は作れない）。
2. **タワー破壊**: 相手のタワーをすべて破壊する。

## 3. ゲームの準備・基本ルール (Setup & Basic Rules)

### 3.1 チーム編成 (Team Composition)
*   各プレイヤーは **4体** のチャンピオンを選出する。
*   **バン＆ピック (Ban & Pick)**: 自分と相手で同じチャンピオンを選ぶことはできない。交互に選択・禁止を行うバンピック方式を採用。

### 3.2 フィールド (Field)
*   **盤面サイズ**: 9×9マス（仮。テストプレイで調整予定）
*   プレイヤーは選出した4体のうち、**3体** を同時に場に出す（1体は控え）。

### 3.3 フェイズシステム (Phase System)
*   ゲームは **4ターン = 1フェイズ** として進行する。
*   **出撃フェイズ (Deploy Phase)**: 
    *   ゲーム開始時（フェイズ1開始前）、および各フェイズの開始時に行われる。
    *   **交互配置**: プレイヤーは交互に1体ずつチャンピオンを配置する（先攻・後攻はランダムあるいは固定）。
    *   **スポーン可能エリア**: 自軍タワーの周囲1マス（3x3エリア、タワー自体を除く）。
    *   配置が完了したら、アクション選択（計画フェーズ）へ移行する。
    *   場に出ているチャンピオンが **3体未満** の場合、3体になるまで出撃させる。

### 3.4 撃破と復活 (Knockout & Respawn)
*   チャンピオンの **HPが0** になった場合、そのチャンピオンは **待機場所（ベンチ）** に戻る。
*   撃破されたチャンピオンは **4ターン経過** するまで使用不可能。
*   出撃可能になったら、次の出撃フェイズにスポーン地点を選んで配置できる。

### 3.5 控え回復 (Bench Recovery)
*   **控え（ベンチ）にいる** チャンピオンは、毎ターン終了時に **HPの15%** を回復する。

## 4. ターン進行とアクション (Turn Structure & Actions)

### 4.1 アクション選択 (Action Selection)
*   プレイヤーは1ターンにつき、場に出ている3体のうち **2体** 分の行動を選択する。
*   **制限**: 1体のチャンピオンが1ターンに2回行動することはできない（必ず異なる2体を動かす）。
*   **指示の方法**:
    *   **カードプレイ**: チャンピオンの手札からカードを1枚選ぶ。
    *   **代替アクション（1マス移動）**: カード本来の効果の代わりに、上下左右に1マス移動として使用可能。
        *   **計画フェーズ時に「通常使用」か「代替アクション」かを選択する。**
        *   斜め移動は不可。
        *   優先度はカード本来の数値をそのまま使用。
    *   **ガード (Guard)**: カードをプレイする代わりに、カードを2枚捨てることで「ガード」状態になる。
        *   効果：このターンに受けるすべてのダメージを **1/3** に軽減する。

### 4.2 カードシステム (Card System)
*   **デッキ構成**: 各チャンピオンは **4枚** のカードを持つ。
    *   **固有アクションカード**: 3枚
    *   **交代カード (Swap)**: 1枚（控えのチャンピオンと交代するアクション）
*   **優先権 (Priority/Initiative)**:
    *   各カードには「優先権（速度）」が設定されている。
    *   すべてのカードは異なる優先権値を持ち、重複しない（ユニークな値）。
    *   数字が大きい（または小さい）順に、厳密な順番で行動が解決される。
*   **行動解決のタイミング (Resolution Timing)**:
    *   プレイヤーは「どのカードを使うか」だけを選択する（計画フェーズ）。
    *   **解決フェーズ開始時に、すべてのプレイヤーが選んだ行動（カード）が公開される。** これは公開情報であり、相手の選んだ行動を確認した上で移動先・攻撃対象を決定できる。**【未実装】**
    *   移動先・攻撃対象は、全プレイヤーの行動が出揃った後、優先権順に処理する時に決定される。
    *   これにより、高優先度のカードは相手の動きを見る前に行動でき、低優先度のカードは相手の動き後の状況に応じた行動となる。
*   **カードの消費と補充 (Cycle)**:
    *   使用したカードは手札からなくなる。
    *   **4ターンごと** にサイクルが一巡し、すべてのカードが手札に補充（リセット）される。
*   **強化 (Upgrade)**:
    *   4ターンごとの補充タイミングで、獲得した「ゴールド」を消費して、いずれかのカードを強化(Upgrade)できる。

## 5. タワー (Towers)

### 5.1 タワー仕様
*   **HP**: 150
*   **役割**: 破壊されるまで、その奥にある勝利マスへの進入を物理的にブロックする壁。
*   **攻撃**: タワーは攻撃しない。
*   **被ダメージと属性**:
    *   タワーにはランダムな属性タイプが付与されている。
    *   **4ターンごと** のサイクル一巡時に、タワーの属性はランダムに変化する。
    *   攻撃時、攻撃カードのタイプとタワーのタイプの間で**属性相性によるダメージ計算**（2倍、0.5倍など）が適用される。
    *   範囲内にいる場合、攻撃対象として選択可能。

### 5.2 配置
*   各チームに3つのタワーが配置される。
*   勝利マスはタワーの1、2マス後ろに配置。
*   タワーを全て破壊すると勝利。

---

## 6. 属性システム (Attributes)
*   各チャンピオンには属性（タイプ）が設定されている（ポケモン風システム）。

### ダメージ計算
| 条件 | 倍率 |
|------|------|
| **効果抜群** (弱点を突く) | × 1.5 |
| **いまひとつ** (耐性あり) | × 0.5 |
| **無効** (こうかがない) | × 0 |
| **タイプ一致ボーナス (STAB)** | × 1.5 |

*   タイプ一致と効果抜群は重複する（例：1.5 × 1.5 = 2.25倍）

## 7. チャンピオン一覧 (Champions)

### ゲコゲコガ (Gekogekoga)
*   **属性**: 水 (Water)
*   **HP**: 80
*   **特性**: へんげんじざい（技を使用すると、その技のタイプに変化する）

| カード名 | タイプ | 優先度 | 攻撃力 | 移動 | 効果 |
|----------|--------|--------|--------|------|------|
| とんぼがえり | むし | 100 | 20 | 1マス | 隣接1体に攻撃。成功時、控えと交代 |
| みずしゅりけん | みず | 90 | 20×2〜4 | 0マス | 隣接1体に20ダメージを2〜4回攻撃 |
| あくのはどう | あく | 75 | 80 | 0マス | 隣接1体に攻撃。20%で相手のこのターンの行動を無効化 |
| かげうち | あく | 120 | 30 | 3マス | 隣接1体に攻撃 |
| 交代 | - | 50 | - | 0マス | 控えのチャンピオンと交代する |

---
*(ここに新しいチャンピオンを追記していく)*

### 機動馬 (Kidouba)
*   **属性**: はがね (Steel)
*   **HP**: 70
*   **特性**: （未定）

| カード名 | タイプ | 優先度 | 攻撃力 | 移動 | 効果 |
|----------|--------|--------|--------|------|------|
| しっそう | ノーマル | 110 | 0 | 5マス | 直線方向に5マスまで移動 |
| ふみつけ | じめん | 60 | 50 | 1マス | 隣接1体に攻撃。30%で相手を1マス押し出す |
| 交代 | - | 55 | - | 0マス | 控えのチャンピオンと交代する |

